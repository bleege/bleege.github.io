<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Brad Leege</title>
    <meta name="description" content="Personal Web site of Brad Leege." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

    <!-- SEO -->
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>MapBox On Android | Brad Leege</title>
<meta name="generator" content="Jekyll v3.7.0" />
<meta property="og:title" content="MapBox On Android" />
<meta name="author" content="Brad Leege" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I’m a big fan of the work that MapBox has done with OpenStreetMap and the great open source tools that they provide for building custom maps." />
<meta property="og:description" content="I’m a big fan of the work that MapBox has done with OpenStreetMap and the great open source tools that they provide for building custom maps." />
<link rel="canonical" href="http://www.leege.io/2013/11/15/mapbox-on-android.html" />
<meta property="og:url" content="http://www.leege.io/2013/11/15/mapbox-on-android.html" />
<meta property="og:site_name" content="Brad Leege" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-11-15T11:13:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@bradleege" />
<meta name="twitter:creator" content="@Brad Leege" />
<script type="application/ld+json">
{"description":"I’m a big fan of the work that MapBox has done with OpenStreetMap and the great open source tools that they provide for building custom maps.","author":{"@type":"Person","name":"Brad Leege"},"@type":"BlogPosting","url":"http://www.leege.io/2013/11/15/mapbox-on-android.html","headline":"MapBox On Android","dateModified":"2013-11-15T11:13:00-06:00","datePublished":"2013-11-15T11:13:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.leege.io/2013/11/15/mapbox-on-android.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body class="home-template">

    <header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="back-button icon-arrow-left" href="/">Home</a>
        <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">MapBox On Android</h1>
            <section class="post-meta">
                November 15, 2013
                
            </section>
        </header>

        <section class="post-content">
            <!--excerpt.start-->
<p>I’m a big fan of the work that <a href="https://www.mapbox.com">MapBox</a> has done with <a href="https://www.openstreetmap.org/">OpenStreetMap</a> and the great <a href="https://www.mapbox.com/developers/">open source tools</a> that they provide for building custom maps.
<!--excerpt.end--></p>

<p>However after searching the Web and talking with MapBox Engineers I discovered that there is no support for Android, <a href="https://www.mapbox.com/help/#android-sdk">nor are there any plans to do so</a>.  This bugged me as I want to make use of their maps on some Android projects, so I did some research and built a solution.</p>

<p>My original proof of concept project, called <a href="https://github.com/bleege/BikeMapBox">BikeMapBox</a>, is available on GitHub, but to make it easier for others who are looking for a solution too I <a href="https://code.google.com/archive/p/osmdroid/issues/491">worked</a> with the <a href="https://code.google.com/archive/p/osmdroid/">OSMDroid</a> team to have it included in that project.  It’ll be available in the next OSMDroid official release (it’s already in the SNAPSHOT builds on Maven Central), but if you’d like to use it now you can <a href="https://code.google.com/archive/p/osmdroid/source">download the code</a> and include it in your project’s source code.</p>

<p>Usage is pretty straightforward.</p>

<p>Add a MapView to your layout.xml file</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;org.osmdroid.views.MapView</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span></code></pre></figure>

<p>Add your MapBox Map Id to AndroidManifest.xml</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">"MAPBOX_MAPID"</span> <span class="na">android:value=</span><span class="s">"example.map-3a5gfw2p"</span><span class="nt">/&gt;</span></code></pre></figure>

<p>Create And Associate the MapBoxTileSource with your MapView in your Activity</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">MapBoxTileSource</span><span class="o">.</span><span class="na">retrieveMapBoxMapId</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">);</span>
<span class="n">MapBoxTileSource</span> <span class="n">mapBoxTileSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MapBoxTileSource</span><span class="o">();</span>

<span class="n">MapView</span> <span class="n">mapView</span> <span class="o">=</span> <span class="o">(</span><span class="n">MapView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">mapview</span><span class="o">);</span>
<span class="n">mapView</span><span class="o">.</span><span class="na">setTileSource</span><span class="o">(</span><span class="n">mapBoxTileSource</span><span class="o">);</span></code></pre></figure>


        </section>

        

                <footer class="post-footer">
            <!-- If we want to display author's name and bio -->
            
                <section class="author">
                    <!-- Author Name -->
                    <h4> Brad Leege </h4>
                    <!-- Author Bio -->
                    <p>
                        Software engineer, traveler, learner, partner, and TBD living in Madison, Wisconsin.
                    </p>
                </section>
            

            <!-- Share links section -->
            <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?text=MapBox On Android&amp;url=www.leege.io/2013/11/15/mapbox-on-android.html"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=www.leege.io/2013/11/15/mapbox-on-android.html"
        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=www.leege.io/2013/11/15/mapbox-on-android.html"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

            <!-- Disqus comments -->
            

        </footer>


    </article>

</main>

    <footer class="site-footer clearfix">
      <section class="copyright">
        <a href="/">Brad Leege</a> &copy; 
              2018 &bull; All rights reserved.
      </section>
      <section class="poweredby">Made with Jekyll using 
        <a href="http://github.com/rosario/kasper">Kasper theme</a>
      </section>
    </footer>
    
    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-100713791-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
