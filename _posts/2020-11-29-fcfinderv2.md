---
layout: post
title: FCFinder V2 - Football (Soccer), GraphQL, and SwiftUI Pandemic Adventures
date: 2020-11-29
image: images/20201129/premier-league-map.png
categories: [ Projects, SwiftUI, GraphQL, Kotlin, iOS, PostgreSQL]
tags:
- iOS
- GraphQL
- Heroku
- Kotlin
- SwiftUI
- Swift
- PostgreSQL
- Projects
---

 <!--excerpt.start-->
_FCFinder V2 is an application for displaying the locations of football clubs by league and by year._
 <!--excerpt.end-->


### Background

A combination of events earlier this year led me to my most recent personal side project, FC Finder V2.  Specificaly, I'd been wanting to explore [GraphQL](https://graphql.org) as well as start learning [SwiftUI](https://developer.apple.com/documentation/swiftui/), especailly after Apple announced it's second rev at WWDC in June.  My problem was that I couldn't decide on a good way to do so until the timely combination of the COVID-19 pandemic and the [deprecation of Mapbox Classic Map Styles](https://blog.mapbox.com/deprecating-studio-classic-styles-d8892ac38cb4).

The European and North American pandemic shutdowns in the spring resulted in the last 2 months of the traditional season of football leagues in Europe being put on hold until pandemic could be managed in each country (except for the USA &#129318;&#8205;&#9794;&#65039;).  Seasons traditionally start in August and end in May so that meant in order to begin the new 2020-2021 season many leagues had to first complete their 2019-2020 seasons.  The result was that there was a glut of football being broadcast in the USA over the summer as different countries' leagues returned to finish their seasons and I became curious to learn more about these leagues and their clubs, many of which I'd never watched before.

I'd built a [Web application called FC Finder](/2012/12/08/this-is-my-latest-personal-project-called-fc.html) back in 2012 that mapped football leagues' clubs and displayed the current favorite beers of the local supporters using Untappd.  There were a couple of major problems with repurposing this Web app though, namely

1. The hardcoded club rosters had become out of date due to [relegation](https://en.wikipedia.org/wiki/Promotion_and_relegation).
2. The map stopped displaying due to the End of Life of Mapbox Classic Map Styles.

From this FCFinder V2 was born.


### Extensible Data Model Served By GraphQL

Extensibility was the primary feature for the new system.  While the original had leagues and their clubs hardcoded client side, the new system needed to be able to support different countries, different league tiers, and different seasons.  To solve this problem I created a data model containing Clubs, Leagues, and Countries that were tied together via a lookup table called ClubsToLeagues running in [PostgreSQL](https://www.postgresql.org).



Tech Stack

* Expedia Group's Kotlin GraphQL
* Spark Java
* Kotlin
* Exposed DSL
* PostgreSQL

[https://github.com/bleege/FCFinderV2](https://github.com/bleege/FCFinderV2)


### SwiftUI Client

